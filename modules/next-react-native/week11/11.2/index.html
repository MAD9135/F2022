<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RN Nested Navigation | MAD9135</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="JavaScript App Development">
    
    <link rel="preload" href="/F2022/assets/css/0.styles.69eb72d8.css" as="style"><link rel="preload" href="/F2022/assets/js/app.e8c285b9.js" as="script"><link rel="preload" href="/F2022/assets/js/2.9a13455f.js" as="script"><link rel="preload" href="/F2022/assets/js/33.f324c148.js" as="script"><link rel="preload" href="/F2022/assets/js/6.351fee7d.js" as="script"><link rel="prefetch" href="/F2022/assets/js/10.19db6b1e.js"><link rel="prefetch" href="/F2022/assets/js/11.9c100ec9.js"><link rel="prefetch" href="/F2022/assets/js/12.66792850.js"><link rel="prefetch" href="/F2022/assets/js/13.570695c0.js"><link rel="prefetch" href="/F2022/assets/js/14.6f8baaa9.js"><link rel="prefetch" href="/F2022/assets/js/15.9fe338ad.js"><link rel="prefetch" href="/F2022/assets/js/16.14a225ab.js"><link rel="prefetch" href="/F2022/assets/js/17.9889dd9b.js"><link rel="prefetch" href="/F2022/assets/js/18.b9f44afa.js"><link rel="prefetch" href="/F2022/assets/js/19.1a5d1eb8.js"><link rel="prefetch" href="/F2022/assets/js/20.bfc9c373.js"><link rel="prefetch" href="/F2022/assets/js/21.b0d5e3b9.js"><link rel="prefetch" href="/F2022/assets/js/22.71501c8b.js"><link rel="prefetch" href="/F2022/assets/js/23.c7ffdeef.js"><link rel="prefetch" href="/F2022/assets/js/24.2d7e7868.js"><link rel="prefetch" href="/F2022/assets/js/25.6973b344.js"><link rel="prefetch" href="/F2022/assets/js/26.5381df9b.js"><link rel="prefetch" href="/F2022/assets/js/27.94beb76f.js"><link rel="prefetch" href="/F2022/assets/js/28.35bb8e11.js"><link rel="prefetch" href="/F2022/assets/js/29.44383e10.js"><link rel="prefetch" href="/F2022/assets/js/3.4ca6bd9c.js"><link rel="prefetch" href="/F2022/assets/js/30.5979e619.js"><link rel="prefetch" href="/F2022/assets/js/31.fe59b532.js"><link rel="prefetch" href="/F2022/assets/js/32.439d6653.js"><link rel="prefetch" href="/F2022/assets/js/34.3e1bc0a2.js"><link rel="prefetch" href="/F2022/assets/js/35.db6b2965.js"><link rel="prefetch" href="/F2022/assets/js/36.ab816086.js"><link rel="prefetch" href="/F2022/assets/js/37.07e54435.js"><link rel="prefetch" href="/F2022/assets/js/38.deea1f87.js"><link rel="prefetch" href="/F2022/assets/js/39.72fff846.js"><link rel="prefetch" href="/F2022/assets/js/4.b42af5b4.js"><link rel="prefetch" href="/F2022/assets/js/40.f25af6c1.js"><link rel="prefetch" href="/F2022/assets/js/41.b75d764d.js"><link rel="prefetch" href="/F2022/assets/js/42.e7b3e635.js"><link rel="prefetch" href="/F2022/assets/js/43.ef823a68.js"><link rel="prefetch" href="/F2022/assets/js/44.e65ceadf.js"><link rel="prefetch" href="/F2022/assets/js/45.2653971e.js"><link rel="prefetch" href="/F2022/assets/js/46.2e7a0afa.js"><link rel="prefetch" href="/F2022/assets/js/47.c93b6eb6.js"><link rel="prefetch" href="/F2022/assets/js/48.22a6269b.js"><link rel="prefetch" href="/F2022/assets/js/49.cdbc262a.js"><link rel="prefetch" href="/F2022/assets/js/5.aef0857f.js"><link rel="prefetch" href="/F2022/assets/js/50.411c7402.js"><link rel="prefetch" href="/F2022/assets/js/51.5a18911f.js"><link rel="prefetch" href="/F2022/assets/js/52.ce0eea3f.js"><link rel="prefetch" href="/F2022/assets/js/53.d55f9ed3.js"><link rel="prefetch" href="/F2022/assets/js/54.6a7af4f1.js"><link rel="prefetch" href="/F2022/assets/js/55.8779cc6a.js"><link rel="prefetch" href="/F2022/assets/js/56.281c9c8b.js"><link rel="prefetch" href="/F2022/assets/js/57.e36954dd.js"><link rel="prefetch" href="/F2022/assets/js/58.5c8be1f9.js"><link rel="prefetch" href="/F2022/assets/js/7.0bb8b12a.js"><link rel="prefetch" href="/F2022/assets/js/8.a2a70e3a.js"><link rel="prefetch" href="/F2022/assets/js/9.5279d356.js">
    <link rel="stylesheet" href="/F2022/assets/css/0.styles.69eb72d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2022/" class="home-link router-link-active"><img src="/F2022/mad-d-logo-sm.png" alt="MAD9135" class="logo"> <span class="site-name can-hide">MAD9135</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2022/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2022/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2022/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2022/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2022/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2022/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Firebase Hybrid Content</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Next JS &amp; React Native</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2022/modules/next-react-native/week9/9.1/" class="sidebar-link">9.1: Intro to NextJS</a></li><li><a href="/F2022/modules/next-react-native/week9/9.2/" class="sidebar-link">9.2: ServerSide NextJS</a></li><li><a href="/F2022/modules/next-react-native/week10/10.1/" class="sidebar-link">10.1: Intro to React Native</a></li><li><a href="/F2022/modules/next-react-native/week10/10.2/" class="sidebar-link">10.2: React Native Forms, Images, Lists</a></li><li><a href="/F2022/modules/next-react-native/week11/11.1/" class="sidebar-link">11.1: RN Layout &amp; Navigation </a></li><li><a href="/F2022/modules/next-react-native/week11/11.2/" aria-current="page" class="active sidebar-link">11.2: RN Nested Navigation </a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2022/modules/next-react-native/week11/11.2/#tab-navigation" class="sidebar-link">Tab Navigation</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/next-react-native/week11/11.2/#nested-navigators" class="sidebar-link">Nested Navigators</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/next-react-native/week11/11.2/#focus-aware-statusbar" class="sidebar-link">Focus Aware StatusBar</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/next-react-native/week11/11.2/#drawer-navigation" class="sidebar-link">Drawer Navigation</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/next-react-native/week11/11.2/#resources" class="sidebar-link">Resources</a></li></ul></li><li><a href="/F2022/modules/next-react-native/week12/12.1/" class="sidebar-link">12.1: React Native Component Libraries </a></li><li><a href="/F2022/modules/next-react-native/week12/12.2/" class="sidebar-link">12.2: Pressable &amp; Touch Events</a></li><li><a href="/F2022/modules/next-react-native/week13/13.1/" class="sidebar-link">13.1: Fonts, Icons, Features, Components &amp; Permissions</a></li><li><a href="/F2022/modules/next-react-native/week13/13.2/" class="sidebar-link">13.2: Production Builds</a></li><li><a href="/F2022/modules/next-react-native/week14/14.1/" class="sidebar-link">14.1: More Production Builds</a></li><li><a href="/F2022/modules/next-react-native/week14/14.2/" class="sidebar-link">14.2: Project Notes</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title purple">
    React Native
  </div> <h1>RN Nested Navigation</h1></header> <p>Building on what you have learned from the last module, it is time to look at how to manage the multi-level navigation requirements common to modern mobile applications. The initial setup is the same as for the Stack Navigator. Make sure that these dependencies are installed in your project.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @react-navigation/native
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>expo <span class="token function">install</span> react-native-gesture-handler react-native-reanimated react-native-screens react-native-safe-area-context
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="tab-navigation"><a href="#tab-navigation" class="header-anchor">#</a> Tab Navigation</h2> <p>The usage instructions for <code>Tab.Navigator</code> are very similar to the <code>Stack.Navigator</code>. Before you can use the tab navigator, you need to install the NPM module.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @react-navigation/bottom-tabs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Then import the <code>createBottomNavigator</code> function in your App.js module.</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br></div><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NavigationContainer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/native'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createBottomTabNavigator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/bottom-tabs'</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Next create a new instance of the <code>Tab</code> object using the imported function. When invoked, it returns on object with two properties containing React components: <code>Screen</code> and <code>Navigator</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> Tab <span class="token operator">=</span> <span class="token function">createBottomTabNavigator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Then in the JSX, replace <code>Stack.Navigator</code> with <code>Tab.Navigator</code> and replace <code>Stack.Screen</code> with <code>Tab.Screen</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>NavigationContainer<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;Home&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>HomeScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;About&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>AboutScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;Contact&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ContactScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Tab<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>NavigationContainer<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="add-icons"><a href="#add-icons" class="header-anchor">#</a> Add icons</h3> <p>It is easy to add icons to your tabs using the included <code>react-native-vector-icons</code> packages that Expo installs by default.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Ionicons <span class="token keyword">from</span> <span class="token string">'react-native-vector-icons/Ionicons'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Then using the <code>options</code> prop on the <code>Tab.Screen</code> component, set the <code>tabBarIcon</code>. To make the icon dynamic, use a function that is given the focused state, color, and size params.</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Screen
  name<span class="token operator">=</span><span class="token string">&quot;Contact&quot;</span>
  component<span class="token operator">=</span><span class="token punctuation">{</span>ContactScreen<span class="token punctuation">}</span>
  options<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
    <span class="token function-variable function">tabBarIcon</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> focused<span class="token punctuation">,</span> size<span class="token punctuation">,</span> color <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>Ionicons name<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">'ios-paper-plane'</span><span class="token punctuation">}</span> size<span class="token operator">=</span><span class="token punctuation">{</span>size<span class="token punctuation">}</span> color<span class="token operator">=</span><span class="token punctuation">{</span>color<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>You have complete flexibility in styling your tabs to match your designs. For example, let's use <code>indigo</code> as our key brand colour and then set up the tab bar options.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Tab.Navigator</span></span>
  <span class="token attr-name">tabBarOptions</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
    <span class="token literal-property property">activeTintColor</span><span class="token operator">:</span> <span class="token string">'hsl(275, 100%, 23%)'</span><span class="token punctuation">,</span> <span class="token comment">// indigo</span>
    <span class="token literal-property property">inactiveTintColor</span><span class="token operator">:</span> <span class="token string">'hsl(275, 15%, 60%)'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">'hsl(275, 100%, 93%)'</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">Read the docs ...</p> <p>For a full list of options, see the <a href="https://reactnavigation.org/docs/bottom-tab-navigator/" target="_blank" rel="noopener noreferrer">React Navigation API docs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <h2 id="nested-navigators"><a href="#nested-navigators" class="header-anchor">#</a> Nested Navigators</h2> <p>It is pretty common to have a tab navigator as the primary means of navigation in a mobile app. And it is also quite common to have a nested stack navigator in a tab screen to allow the user to view more detailed content or perhaps to edit content.</p> <p>So, how do you do that?</p> <p>Because the React Navigation library uses factory functions to create unique instances of the various navigator objects, e.g. Stack or Tab, your application can deploy them in combination. Each will maintain its own independent navigation state.</p> <p>Lets add a stack navigator to the home screen inside our tab navigator.</p> <h3 id="create-a-homedetailsscreen-component"><a href="#create-a-homedetailsscreen-component" class="header-anchor">#</a> Create a <code>HomeDetailsScreen</code> component</h3> <p>This will be added to the home screen stack navigator in a couple of steps from now.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">HomeDetailsScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>SafeAreaView style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">flex</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>View style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">flex</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">justifyContent</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span> <span class="token literal-property property">alignItems</span><span class="token operator">:</span> <span class="token string">'center'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Text<span class="token operator">&gt;</span>Home Details<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>View<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>SafeAreaView<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="install-the-library"><a href="#install-the-library" class="header-anchor">#</a> Install the library</h3> <p>Next you will need to add the stack navigator library to your project.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @react-navigation/stack
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>And then create a new <code>Stack</code> instance ...</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createStackNavigator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/stack'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Stack <span class="token operator">=</span> <span class="token function">createStackNavigator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="create-a-new-homestackscreen-component"><a href="#create-a-new-homestackscreen-component" class="header-anchor">#</a> Create a new HomeStackScreen component</h3> <p>When the &quot;Home&quot; tab is selected in the <code>Tab.Navigator</code> you need to give it the <code>Stack.Navigator</code> to render, which will in turn render either the <code>HomeScreen</code> or the <code>HomeDetailsScreen</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">HomeStackScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>HomeStack<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HomeStack<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;Home&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>HomeScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>HomeStack<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;HomeDetails&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>HomeDetailsScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>HomeStack<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">Stack state is maintained</p> <p>Notice that when you change tabs and then go back to a tab with a nested <code>Stack.Navigator</code>, the previous state of that stack is unchanged. i.e. it is still showing the same screen as before you switched tabs.</p></div> <h3 id="passing-props-to-screens"><a href="#passing-props-to-screens" class="header-anchor">#</a> Passing Props to Screens</h3> <p>It is worth noting that if you want to pass additional props to your <code>Screen</code> elements inside the Stack or Tab Navigators then you need to change how you write the element.</p> <p>Here is an example using the Tab Navigator. The <code>&lt;Tab.Navigator&gt;</code> uses the function for <code>screenOptions</code> to set the icon on each tab.</p> <p>The two <code>&lt;Tab.Screen&gt;</code> components are written different. The <code>Home</code> tab simply uses the <code>component={HomeScreen}</code> prop to load that component. However, the <code>List</code> tab needs to pass an array of data to the <code>ListScreen</code> component. We accomplish this by adding a function between the opening and closing tags. The navigation props get passed to this function and we can write those to <code>ListScreen</code> with <code>{...props}</code>. Then we can add our additional props. In this case we create a prop called <code>people</code> and add our state variable as the value for that prop.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>NavigationContainer<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Navigator
    screenOptions<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> route <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token function-variable function">tabBarIcon</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> focused<span class="token punctuation">,</span> color<span class="token punctuation">,</span> size <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> iconName<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>route<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">'Home'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          iconName <span class="token operator">=</span> focused <span class="token operator">?</span> <span class="token string">'home'</span> <span class="token operator">:</span> <span class="token string">'home-outline'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          iconName <span class="token operator">=</span> focused <span class="token operator">?</span> <span class="token string">'list-circle'</span> <span class="token operator">:</span> <span class="token string">'list-circle-outline'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>Ionicons name<span class="token operator">=</span><span class="token punctuation">{</span>iconName<span class="token punctuation">}</span> size<span class="token operator">=</span><span class="token punctuation">{</span>size<span class="token punctuation">}</span> color<span class="token operator">=</span><span class="token punctuation">{</span>color<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
  <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;Home&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>HomeScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>Tab<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;List&quot;</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>ListScreen <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> people<span class="token operator">=</span><span class="token punctuation">{</span>people<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>Tab<span class="token punctuation">.</span>Screen<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>Tab<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>NavigationContainer<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="focus-aware-statusbar"><a href="#focus-aware-statusbar" class="header-anchor">#</a> Focus Aware StatusBar</h2> <p>When your app design calls for different background colours for the header on difference screens, the normal behaviour of the <code>StatusBar</code> component isn't helpful. It will keep the settings (light or dark) of the last component to render.</p> <p>The solution is to create your own <code>FocusAwareStatusBar</code>, using the <code>useIsFocused</code> hook from React Navigation. This will cause your status bar to re-render when the screen is in focus, thereby updating the StatusBar with the correct settings.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StatusBar <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'expo-status-bar'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useIsFocused <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/native'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">FocusAwareStatusBar</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isFocused <span class="token operator">=</span> <span class="token function">useIsFocused</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> isFocused <span class="token operator">?</span> <span class="token operator">&lt;</span>StatusBar <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FocusAwareStatusBar<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>You may now use this component as needed in your screen component JSX, with the same props as the regular Expo StatusBar.</p> <h2 id="drawer-navigation"><a href="#drawer-navigation" class="header-anchor">#</a> Drawer Navigation</h2> <p>Install the drawer module.</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> @react-navigation/drawer
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Import and run the factory function.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createDrawerNavigator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@react-navigation/drawer'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Drawer <span class="token operator">=</span> <span class="token function">createDrawerNavigator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Extract the Tab navigation to its own <code>TabScreen</code> component and then update the top level navigation in App.js to look like this ...</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>NavigationContainer<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>Drawer<span class="token punctuation">.</span>Navigator initialRouteName<span class="token operator">=</span><span class="token string">&quot;Home&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Drawer<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;Home&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>TabScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Drawer<span class="token punctuation">.</span>Screen name<span class="token operator">=</span><span class="token string">&quot;Setting&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>SettingsScreen<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>Drawer<span class="token punctuation">.</span>Navigator<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>NavigationContainer<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="resources"><a href="#resources" class="header-anchor">#</a> Resources</h2> <h3 id="github-repo"><a href="#github-repo" class="header-anchor">#</a> GitHub repo</h3> <p><a href="https://github.com/rlmckenney/mad9135-nested-nav-demo" target="_blank" rel="noopener noreferrer">rlmckenney/mad9135-nested-nav-demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="api-docs"><a href="#api-docs" class="header-anchor">#</a> API docs</h3> <ul><li><a href="https://reactnavigation.org/docs/stack-navigator" target="_blank" rel="noopener noreferrer">Stack Navigator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://reactnavigation.org/docs/bottom-tab-navigator" target="_blank" rel="noopener noreferrer">Bottom Tab Navigator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://reactnavigation.org/docs/drawer-navigator" target="_blank" rel="noopener noreferrer">Drawer Navigator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/1/2022, 8:50:28 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/F2022/modules/next-react-native/week11/11.1/" class="prev">
        11.1: RN Layout &amp; Navigation 
      </a></span> <span class="next"><a href="/F2022/modules/next-react-native/week12/12.1/">
        12.1: React Native Component Libraries 
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/F2022/assets/js/app.e8c285b9.js" defer></script><script src="/F2022/assets/js/2.9a13455f.js" defer></script><script src="/F2022/assets/js/33.f324c148.js" defer></script><script src="/F2022/assets/js/6.351fee7d.js" defer></script>
  </body>
</html>
