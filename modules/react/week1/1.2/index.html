<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.2 MAD9135 Introduction | MAD9135</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="JavaScript App Development">
    
    <link rel="preload" href="/F2022/assets/css/0.styles.69eb72d8.css" as="style"><link rel="preload" href="/F2022/assets/js/app.e8c285b9.js" as="script"><link rel="preload" href="/F2022/assets/js/2.9a13455f.js" as="script"><link rel="preload" href="/F2022/assets/js/43.ef823a68.js" as="script"><link rel="preload" href="/F2022/assets/js/6.351fee7d.js" as="script"><link rel="preload" href="/F2022/assets/js/7.0bb8b12a.js" as="script"><link rel="prefetch" href="/F2022/assets/js/10.19db6b1e.js"><link rel="prefetch" href="/F2022/assets/js/11.9c100ec9.js"><link rel="prefetch" href="/F2022/assets/js/12.66792850.js"><link rel="prefetch" href="/F2022/assets/js/13.570695c0.js"><link rel="prefetch" href="/F2022/assets/js/14.6f8baaa9.js"><link rel="prefetch" href="/F2022/assets/js/15.9fe338ad.js"><link rel="prefetch" href="/F2022/assets/js/16.14a225ab.js"><link rel="prefetch" href="/F2022/assets/js/17.9889dd9b.js"><link rel="prefetch" href="/F2022/assets/js/18.b9f44afa.js"><link rel="prefetch" href="/F2022/assets/js/19.1a5d1eb8.js"><link rel="prefetch" href="/F2022/assets/js/20.bfc9c373.js"><link rel="prefetch" href="/F2022/assets/js/21.b0d5e3b9.js"><link rel="prefetch" href="/F2022/assets/js/22.71501c8b.js"><link rel="prefetch" href="/F2022/assets/js/23.c7ffdeef.js"><link rel="prefetch" href="/F2022/assets/js/24.2d7e7868.js"><link rel="prefetch" href="/F2022/assets/js/25.6973b344.js"><link rel="prefetch" href="/F2022/assets/js/26.5381df9b.js"><link rel="prefetch" href="/F2022/assets/js/27.94beb76f.js"><link rel="prefetch" href="/F2022/assets/js/28.35bb8e11.js"><link rel="prefetch" href="/F2022/assets/js/29.44383e10.js"><link rel="prefetch" href="/F2022/assets/js/3.4ca6bd9c.js"><link rel="prefetch" href="/F2022/assets/js/30.5979e619.js"><link rel="prefetch" href="/F2022/assets/js/31.fe59b532.js"><link rel="prefetch" href="/F2022/assets/js/32.439d6653.js"><link rel="prefetch" href="/F2022/assets/js/33.f324c148.js"><link rel="prefetch" href="/F2022/assets/js/34.3e1bc0a2.js"><link rel="prefetch" href="/F2022/assets/js/35.db6b2965.js"><link rel="prefetch" href="/F2022/assets/js/36.ab816086.js"><link rel="prefetch" href="/F2022/assets/js/37.07e54435.js"><link rel="prefetch" href="/F2022/assets/js/38.deea1f87.js"><link rel="prefetch" href="/F2022/assets/js/39.72fff846.js"><link rel="prefetch" href="/F2022/assets/js/4.b42af5b4.js"><link rel="prefetch" href="/F2022/assets/js/40.f25af6c1.js"><link rel="prefetch" href="/F2022/assets/js/41.b75d764d.js"><link rel="prefetch" href="/F2022/assets/js/42.e7b3e635.js"><link rel="prefetch" href="/F2022/assets/js/44.e65ceadf.js"><link rel="prefetch" href="/F2022/assets/js/45.2653971e.js"><link rel="prefetch" href="/F2022/assets/js/46.2e7a0afa.js"><link rel="prefetch" href="/F2022/assets/js/47.c93b6eb6.js"><link rel="prefetch" href="/F2022/assets/js/48.22a6269b.js"><link rel="prefetch" href="/F2022/assets/js/49.cdbc262a.js"><link rel="prefetch" href="/F2022/assets/js/5.aef0857f.js"><link rel="prefetch" href="/F2022/assets/js/50.411c7402.js"><link rel="prefetch" href="/F2022/assets/js/51.5a18911f.js"><link rel="prefetch" href="/F2022/assets/js/52.ce0eea3f.js"><link rel="prefetch" href="/F2022/assets/js/53.d55f9ed3.js"><link rel="prefetch" href="/F2022/assets/js/54.6a7af4f1.js"><link rel="prefetch" href="/F2022/assets/js/55.8779cc6a.js"><link rel="prefetch" href="/F2022/assets/js/56.281c9c8b.js"><link rel="prefetch" href="/F2022/assets/js/57.e36954dd.js"><link rel="prefetch" href="/F2022/assets/js/58.5c8be1f9.js"><link rel="prefetch" href="/F2022/assets/js/8.a2a70e3a.js"><link rel="prefetch" href="/F2022/assets/js/9.5279d356.js">
    <link rel="stylesheet" href="/F2022/assets/css/0.styles.69eb72d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/F2022/" class="home-link router-link-active"><img src="/F2022/mad-d-logo-sm.png" alt="MAD9135" class="logo"> <span class="site-name can-hide">MAD9135</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/F2022/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2022/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2022/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/F2022/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/F2022/deliverables/" class="nav-link">
  Assignments
</a></div><div class="nav-item"><a href="/F2022/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Introduction</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Firebase Hybrid Content</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>React</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/F2022/modules/react/week1/1.1/" class="sidebar-link">1.1: Intro and Review</a></li><li><a href="/F2022/modules/react/week1/1.2/" aria-current="page" class="active sidebar-link">1.2: Framework Concepts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/F2022/modules/react/week1/1.2/#state-driven-ui" class="sidebar-link">State-Driven UI</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/react/week1/1.2/#virtual-dom" class="sidebar-link">Virtual DOM</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/react/week1/1.2/#components" class="sidebar-link">Components</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/react/week1/1.2/#finite-state-machines-and-pubsub" class="sidebar-link">Finite State Machines and PubSub</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/react/week1/1.2/#js-classes" class="sidebar-link">JS Classes</a></li><li class="sidebar-sub-header"><a href="/F2022/modules/react/week1/1.2/#what-to-do-this-week" class="sidebar-link">What to do this week</a></li></ul></li><li><a href="/F2022/modules/react/week2/2.1/" class="sidebar-link">2.1: React Introduction</a></li><li><a href="/F2022/modules/react/week2/2.2/" class="sidebar-link">2.2: JSX and Components</a></li><li><a href="/F2022/modules/react/week3/3.1/" class="sidebar-link">3.1: Conditional Rendering, PropTypes, State-Driven UI</a></li><li><a href="/F2022/modules/react/week3/3.2/" class="sidebar-link">3.2: Passing Functions and Events</a></li><li><a href="/F2022/modules/react/week4/4.1/" class="sidebar-link">4.1: Managing State and Hooks</a></li><li><a href="/F2022/modules/react/week4/4.2/" class="sidebar-link">4.2: Axios and APIs</a></li><li><a href="/F2022/modules/react/week5/5.1/" class="sidebar-link">5.1: React Routing and Lazy Loading</a></li><li><a href="/F2022/modules/react/week5/5.2/" class="sidebar-link">5.2: Context API &amp; LocalStorage</a></li><li><a href="/F2022/modules/react/week6/6.1/" class="sidebar-link">6.1: Production Builds</a></li><li><a href="/F2022/modules/react/week6/6.2/" class="sidebar-link">6.2: Styled Components</a></li><li><a href="/F2022/modules/react/week7/" class="sidebar-link">7: Netlify and React Project</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Next JS &amp; React Native</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title blue">
    React Fundamentals
  </div> <h1>1.2 MAD9135 Introduction</h1></header> <h1 id="javascript-concepts"><a href="#javascript-concepts" class="header-anchor">#</a> JavaScript Concepts</h1> <p>Two key topics for an understanding of what React is doing for us are <code>state-driven ui</code> and a <code>virtual DOM</code>.</p> <p>There is nothing that the React framework does that you could not do by yourself with vanillaJS.</p> <p>We are using a framework because it can help us to more efficiently build a consistent web application.</p> <p>Now, this does mean that we have to learn the mental model and approach that React uses to solve common problems. The idea is the same as if you were going to build a cabin. You could do it yourself with the tools that you own. However, if you were given a specialized set of tools and parts that were designed by a team of people who had collectively already built 10,000 cabins, then you can imagine how you can start building many more cabins a lot more efficiently.</p> <p>Before you can be efficient though, you need to learn how to use those specialized tools.</p> <p><a href="https://gomakethings.com/why-do-people-choose-frameworks-over-vanilla-js/" target="_blank" rel="noopener noreferrer">Here is a good article about why people use frameworks instead of Vanilla JS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="state-driven-ui"><a href="#state-driven-ui" class="header-anchor">#</a> State-Driven UI</h2> <p>If you have ever written an app with Flutter and Dart then your probably understand the idea behind having an app interface being built based on a data structure.</p> <div class="custom-block tip"><p class="custom-block-title">STATE IS DATA</p> <p>When working with frameworks like React, you will see many references to <strong>State</strong>.</p> <p>State is just the data attached to the current page and/or component at the current moment.</p></div> <p>You can think of the word <code>state</code> as a way to describe the current condition of something.</p> <p>What is the current state of your:</p> <ul><li>home?</li> <li>car?</li> <li>clothes?</li> <li>credit card statement?</li></ul> <p>There are probably many words and properties that you could use to describe each of these things. The accumulation of properties and values that you would use as the descriptions is the STATE.</p> <p>Now imagine that you were going to build a website about your <strong>home</strong> which had many pages and components displaying information about your <strong>home</strong>.</p> <p>Would you rather write a bunch of static pages and repeatedly type the same information about the home, just formatted and organized in different ways? OR, store all the information about the home in a data structure that is shared from one common source across every component.</p> <p>If you update the information in the common source then any component that displays that information could immediately be updated.</p> <h3 id="state-in-js"><a href="#state-in-js" class="header-anchor">#</a> State in JS</h3> <p>Here is a simple data structure that could represent your home.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rent</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">frequency</span><span class="token operator">:</span> <span class="token string">'monthly'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">cost</span><span class="token operator">:</span> <span class="token number">3900.00</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rooms</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Kitchen'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">occupants</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isClean</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Bedroom'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">occupants</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token literal-property property">isClean</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>We have a <code>state</code> variable that holds all the information about our home. Because it is an Object, passing it around through functions would pass a reference, not a copy.</p> <h3 id="observing-changes-in-state"><a href="#observing-changes-in-state" class="header-anchor">#</a> Observing Changes in State</h3> <p>One thing that we cannot do in JavaScript is monitor changes to a variable. If we update the value inside an object, there is no way that anyone knows that a change was made. We need to build this functionality.</p> <p>Take this code sample as an example.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//create our app state</span>
<span class="token keyword">let</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">food</span><span class="token operator">:</span> <span class="token string">'cheese'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">drink</span><span class="token operator">:</span> <span class="token string">'wine'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//display the state in two components</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'p.food'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> state<span class="token punctuation">.</span>food<span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'p.beverage'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> state<span class="token punctuation">.</span>drink<span class="token punctuation">;</span>

<span class="token comment">//listen for a click on some interface button</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btnGetFood'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">.</span>food <span class="token operator">=</span> <span class="token string">'burger'</span><span class="token punctuation">;</span>
  state<span class="token punctuation">.</span>drink <span class="token operator">=</span> <span class="token string">'beer'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>By the end of this script, if the user has clicked on the button, our state has changed but the textContent of the components is still the original value of <code>state.food</code> and <code>state.drink</code>.</p> <p>The textContent properties are not &quot;bound&quot; to the state object properties.</p> <p>So, we need a way to inform everyone when a change happens to <code>state</code>. The way that React addresses this issue, is by having a function that you call any time you need to update <code>state</code>.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//create our app state</span>
<span class="token keyword">let</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">food</span><span class="token operator">:</span> <span class="token string">'cheese'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">drink</span><span class="token operator">:</span> <span class="token string">'wine'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">newState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//newState is the object containing properties we want to change in state</span>
  state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> <span class="token operator">...</span>newState <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">//replace ALL of state with its original values PLUS whatever new props were passed</span>
  <span class="token comment">// state = {food:'cheese', drink:'wine', food: 'burger'};</span>
  <span class="token comment">//Note the two food properties. The second overwrites the first.</span>

  <span class="token comment">//React then internally calls a function like this:</span>
  <span class="token function">updateUIComponentsThatUseState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//React knows which components are using state</span>
<span class="token punctuation">}</span>

<span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">food</span><span class="token operator">:</span> <span class="token string">'burger'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//we have overwritten the value of food inside state AND given</span>
<span class="token comment">//another function a chance to tell the interface</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>Now, by using this setState function, there is a standard way to call a function that will update the state data being displayed inside any component.</p> <p>The <code>updateUIComponentsThatUseState</code> function is just a made up name that describes what the function does. It will be using tagged template literals to update / replace content that is attached to state.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//greatly simplified for demonstration purposes</span>
<span class="token keyword">function</span> <span class="token function">updateUIComponentsThatUseState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;p class=&quot;food&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span>food<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;
                        &lt;p class=&quot;beverage&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>state<span class="token punctuation">.</span>drink<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/p&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
  <span class="token comment">//just imagine looping through all the components that are using state</span>
  <span class="token comment">//and replacing them with new elements and content.</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>If you are unsure about the rest and spread operators or how destructuring works in JavaScript, <a href="https://mad9014.github.io/F2022/modules/week12/destructure/#spread-rest-syntax" target="_blank" rel="noopener noreferrer">here is the MAD9014 reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <h2 id="virtual-dom"><a href="#virtual-dom" class="header-anchor">#</a> Virtual DOM</h2> <p>One of the reasons that React has become so popular and is used on so many websites, is the way it can efficiently figure out the connection between interface components and the state data and how it knows which components need to be updated.</p> <p>It acheives this by using a Virtual DOM instead of the actual DOM.</p> <div class="custom-block tip"><p class="custom-block-title">Virtual DOM</p> <p>A Virtual DOM is simple a JavaScript Object that represents the current content of the DOM.</p></div> <p>When you make a change to the actual DOM, you are forcing the browser to re-render your webpage, re-calculate the layout, and re-paint all the content.</p> <p>If I were to change the contents of an array of 1000 names that was used to render an unordered list on my webpage and then call a function that rebuilt the entire list because there had been a change, then that is a lot of work for the browser to do.</p> <div class="custom-block tip"><p class="custom-block-title">Data Reactivity</p> <p>The updating of an interface based on changes in state is known as <strong>Data Reactivity</strong>.</p></div> <p>What if I had only changed one name of the 1000 in that array? Rebuilding the whole list is a lot of wasted processing cycles on the computer.</p> <p>So, what React does is use a simple Object that represents the DOM (the Virtual DOM) and it compares the current contents of the object properties with the new version of the state data. If you only change one name in the state array of names, then React figures out that only one property inside the Virtual DOM has been changed. Then it will update only the one <code>&lt;li&gt;</code> that was changed.</p> <p>If no change is made to the Virtual DOM, or if the change results in the same content in the Virtual DOM, then React knows that it doesn't have to tell the browser to re-render or re-paint the screen.</p> <div class="custom-block tip"><p class="custom-block-title">DOM Diffing</p> <p>The search for changes in the Virtual DOM based on changes in state is called <strong>DOM Diffing</strong>.</p></div> <p>We can improve performance even more by creating a Virtual DOM for each component or each state variable. This way, when looking for changes in our DOM Diffing, we only have to look at the specific state object that is being changed.</p> <p><strong>Note:</strong> NOT all State data needs to be held in a global location to be shared across all components. Often there is state data that is specific to a single module. Even though the state object is smaller, the component can still benefit from using the standard React approach to managing state and data reactivity.</p> <p>So, what could a Virtual DOM look like?</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> component <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token string">'ul'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> state<span class="token punctuation">.</span>people<span class="token punctuation">,</span>
  <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">'people'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'list of people'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token string">'li'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> index <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Person One'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token string">'li'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> index <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">'Person Two '</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">properties</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token keyword">class</span><span class="token operator">:</span> <span class="token string">'listbutton'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Click me'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>So, our virtual DOM would be rendered into something like:</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>people<span class="token punctuation">&quot;</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list of people<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Person One<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>Person Two <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>listbutton<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Click Me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>To be clear, this is NOT exactly what React uses. This is just a representation of a generic approach to creating a Virtual DOM that would hold all the needed information without all the overhead of creating actual DOM Nodes.</p> <p>When doing our DOM diffing, we would be looking specifically at the children properties to see if those were different than the values inside <code>component.data</code> (our state).</p> <h2 id="components"><a href="#components" class="header-anchor">#</a> Components</h2> <p>A Component at its most simple is just a chunk of HTML. You can also add styling to a component to give it a consistent appearance. You can also attach JavaScript to the chunk of HTML to give it behaviours.</p> <p>Components are not required to have state data, but most do.</p> <p>There is a standard HTML5 Web Component API that <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components" target="_blank" rel="noopener noreferrer">you can read about, if you like<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>We will be using React's own Components which were developed to do much the same things, but long before the Web Component API was available.</p> <p>If you look at a React-based webpage and are wondering which things are components, then just think of a logical way to group parts of the interface. A navbar, a masthead, a login form, or a list of people. All of those would make sense as a component.</p> <p>There is no hard and fast rule that says you need to make components as of certain parts of your page. Being able to reuse a component in different screens is usually a good guiding principle. Being able to nest a component inside other components is another.</p> <p>With very little practice you will be able to design and build lots of your own components.</p> <h2 id="finite-state-machines-and-pubsub"><a href="#finite-state-machines-and-pubsub" class="header-anchor">#</a> Finite State Machines and PubSub</h2> <p>One approach to managing state and informing components about changes in State is with a Finite State Machine and the PubSub (Publish Subscribe) Design Pattern.</p> <p>The PubSub pattern is an approach that you could use if you were building your own web app but you didn't want to use a framework like React, Vue, or Angular but you still needed to manage state.</p> <p>The Finite State Machine approach is something that we will look at using when we talk about the <code>React Context API</code> later this semester.</p> <div title="Finite State Machines" class="video-player"><p>Finite State Machines</p> <iframe width="560" height="315" src="https://www.youtube.com/embed/0NkfCi-hKCc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <div title="Pub Sub Design Pattern" class="video-player"><p>Pub Sub Design Pattern</p> <iframe width="560" height="315" src="https://www.youtube.com/embed/aynSM8llOBs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="js-classes"><a href="#js-classes" class="header-anchor">#</a> JS Classes</h2> <p>Up until a few years ago, the dominant approach to writing React Applications was to create Components using JS Classes.</p> <p>This course will be using version 18 of React. The recommended approach for components with version 18 is to create them with functions and use the <code>hooks</code> features.</p> <div class="custom-block danger"><p class="custom-block-title">Avoid Classes in React</p> <p>If you find React samples and tutorials online and they are using <code>class</code> in the code to create components, then you are best to avoid that source. The code will most likely still run, but your code will be out-of-date and written against best practices. Not something that you want to have in your portfolio.</p></div> <p>If you want to review how classes work in JS <a href="https://mad9014.github.io/F2022/modules/week12/observers/#js-classes" target="_blank" rel="noopener noreferrer">here is the reference about JS Classes in MAD9014<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div title="JS classes in 2021" class="video-player"><p>JS classes in 2021</p> <iframe width="560" height="315" src="https://www.youtube.com/embed/tqBP5ZX8F0c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="allowfullscreen"></iframe></div> <h2 id="what-to-do-this-week"><a href="#what-to-do-this-week" class="header-anchor">#</a> What to do this week</h2> <div class="custom-block warning"><p class="custom-block-title">TODO</p> <p>Things to do before next week.</p> <ul><li>Read all the content from <code>Modules 1.1, 2.1, and 2.2</code>.</li> <li>Review the first Hybrid module on Firebase</li> <li>Read the <a href="https://reactjs.org/docs/getting-started.html" target="_blank" rel="noopener noreferrer">Getting Started section of the React Website<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/17/2022, 4:00:59 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/F2022/modules/react/week1/1.1/" class="prev">
        1.1: Intro and Review
      </a></span> <span class="next"><a href="/F2022/modules/react/week2/2.1/">
        2.1: React Introduction
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/F2022/assets/js/app.e8c285b9.js" defer></script><script src="/F2022/assets/js/2.9a13455f.js" defer></script><script src="/F2022/assets/js/43.ef823a68.js" defer></script><script src="/F2022/assets/js/6.351fee7d.js" defer></script><script src="/F2022/assets/js/7.0bb8b12a.js" defer></script>
  </body>
</html>
